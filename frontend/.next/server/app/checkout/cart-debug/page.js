(()=>{var e={};e.id=3623,e.ids=[3623],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6912:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>d,routeModule:()=>x,tree:()=>c}),s(7570),s(9293),s(5866);var a=s(3191),r=s(8716),o=s(7922),l=s.n(o),i=s(5231),n={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>i[e]);s.d(t,n);let c=["",{children:["checkout",{children:["cart-debug",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,7570)),"C:\\Users\\dmazzucco\\OneDrive - SA San Miguel A.G.I.C.I. y F\\Escritorio\\Daniel Mazuzzcco Personal\\e-comerce\\frontend\\app\\checkout\\cart-debug\\page.tsx"]}]},{}]},{metadata:{icon:[],apple:[],openGraph:[],twitter:[],manifest:"/manifest.webmanifest"}}]},{layout:[()=>Promise.resolve().then(s.bind(s,9293)),"C:\\Users\\dmazzucco\\OneDrive - SA San Miguel A.G.I.C.I. y F\\Escritorio\\Daniel Mazuzzcco Personal\\e-comerce\\frontend\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[],apple:[],openGraph:[],twitter:[],manifest:"/manifest.webmanifest"}}],d=["C:\\Users\\dmazzucco\\OneDrive - SA San Miguel A.G.I.C.I. y F\\Escritorio\\Daniel Mazuzzcco Personal\\e-comerce\\frontend\\app\\checkout\\cart-debug\\page.tsx"],m="/checkout/cart-debug/page",u={require:s,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/checkout/cart-debug/page",pathname:"/checkout/cart-debug",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},1829:(e,t,s)=>{Promise.resolve().then(s.bind(s,2071))},2071:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});var a=s(326),r=s(7577),o=s(434);function l(){let[e,t]=(0,r.useState)({items:[],total_price:0,total_items:0,is_empty:!0}),[s,l]=(0,r.useState)(!0),[i,n]=(0,r.useState)(null),[c,d]=(0,r.useState)("http://localhost/api/carrito/simple/"),m=async()=>{try{l(!0),n(null),console.log(`🔄 Cargando carrito desde: ${c}`);let e=await fetch(c,{method:"GET",headers:{Accept:"application/json"},credentials:"include"});if(console.log("\uD83D\uDCE1 Status:",e.status,e.statusText),console.log("\uD83D\uDCE1 Headers:",Object.fromEntries(e.headers.entries())),!e.ok)throw Error(`Error ${e.status}: ${e.statusText}`);let s=await e.json();console.log("✅ Datos recibidos:",s);let a={items:Array.isArray(s.items)?s.items:[],total_price:parseFloat(s.total_price)||0,total_items:parseInt(s.total_items)||0,is_empty:!!s.is_empty};t(a)}catch(e){console.error("❌ Error cargando carrito:",e),n(e instanceof Error?e.message:"Error desconocido")}finally{l(!1)}};return(0,a.jsxs)("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[a.jsx("h1",{className:"text-3xl font-bold mb-8",children:"\uD83D\uDED2 Debug de Carrito"}),(0,a.jsxs)("div",{className:"mb-8 bg-gray-50 p-4 rounded-lg",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Panel de Control"}),(0,a.jsxs)("div",{className:"flex gap-4 flex-wrap",children:[a.jsx("button",{onClick:m,className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 disabled:opacity-50",disabled:s,children:s?"Cargando...":"\uD83D\uDD04 Recargar Carrito"}),a.jsx("button",{onClick:()=>d("http://localhost/api/carrito/simple/"),className:"px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600",children:"API Normal"}),a.jsx("button",{onClick:()=>d("http://localhost:8000/api/carrito/simple/"),className:"px-4 py-2 bg-purple-500 text-white rounded hover:bg-purple-600",children:"API Directo (Puerto 8000)"})]}),(0,a.jsxs)("div",{className:"mt-2 text-sm text-gray-600",children:["URL actual: ",a.jsx("span",{className:"font-mono bg-gray-100 px-1 rounded",children:c})]})]}),(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Estado"}),s&&a.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-blue-500 border-t-transparent rounded-full"})]}),i&&(0,a.jsxs)("div",{className:"bg-red-50 text-red-700 p-4 rounded-lg mb-4",children:["❌ Error: ",i]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow",children:[a.jsx("div",{className:"text-sm text-gray-500",children:"Items"}),a.jsx("div",{className:"text-2xl font-bold",children:e.total_items})]}),(0,a.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow",children:[a.jsx("div",{className:"text-sm text-gray-500",children:"Total"}),(0,a.jsxs)("div",{className:"text-2xl font-bold",children:["$",e.total_price.toFixed(2)]})]}),(0,a.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow",children:[a.jsx("div",{className:"text-sm text-gray-500",children:"Productos"}),a.jsx("div",{className:"text-2xl font-bold",children:e.items.length})]}),(0,a.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow",children:[a.jsx("div",{className:"text-sm text-gray-500",children:"Estado"}),a.jsx("div",{className:"text-2xl font-bold",children:e.is_empty?"❌ Vac\xedo":"✅ Con productos"})]})]})]}),(0,a.jsxs)("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Productos en el Carrito"}),0===e.items.length?a.jsx("div",{className:"bg-yellow-50 p-4 rounded-lg text-yellow-700",children:"No hay productos en el carrito"}):a.jsx("div",{className:"bg-white rounded-lg shadow divide-y",children:e.items.map((e,t)=>(0,a.jsxs)("div",{className:"p-4 flex items-center gap-4",children:[a.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded flex items-center justify-center",children:e.producto.imagen?a.jsx("img",{src:`http://localhost${e.producto.imagen}`,alt:e.producto.nombre,className:"max-h-full max-w-full object-contain"}):a.jsx("span",{className:"text-2xl",children:"\uD83C\uDF38"})}),(0,a.jsxs)("div",{className:"flex-grow",children:[a.jsx("div",{className:"font-medium",children:e.producto.nombre}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:["$",Number(e.price).toFixed(2)," \xd7 ",e.quantity," = $",Number(e.total_price).toFixed(2)]})]})]},t))})]}),(0,a.jsxs)("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Datos Raw"}),a.jsx("pre",{className:"bg-gray-800 text-green-400 p-4 rounded-lg overflow-auto text-xs",children:JSON.stringify(e,null,2)})]}),(0,a.jsxs)("div",{className:"flex gap-4",children:[a.jsx(o.default,{href:"/",className:"px-4 py-2 bg-gray-200 rounded hover:bg-gray-300",children:"← Volver al Inicio"}),a.jsx(o.default,{href:"/checkout/multistep",className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Ir al Checkout →"})]})]})}},7570:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(8570).createProxy)(String.raw`C:\Users\dmazzucco\OneDrive - SA San Miguel A.G.I.C.I. y F\Escritorio\Daniel Mazuzzcco Personal\e-comerce\frontend\app\checkout\cart-debug\page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[8948,2063,6744],()=>s(6912));module.exports=a})();