(()=>{var e={};e.id=2205,e.ids=[2205],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},8300:(e,a,r)=>{"use strict";r.r(a),r.d(a,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>c,routeModule:()=>h,tree:()=>d}),r(2806),r(9293),r(5866);var s=r(3191),t=r(8716),o=r(7922),i=r.n(o),n=r(5231),l={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>n[e]);r.d(a,l);let d=["",{children:["checkout",{children:["multistep",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,2806)),"C:\\Users\\dmazzucco\\OneDrive - SA San Miguel A.G.I.C.I. y F\\Escritorio\\Daniel Mazuzzcco Personal\\e-comerce\\frontend\\app\\checkout\\multistep\\page.tsx"]}]},{}]},{metadata:{icon:[],apple:[],openGraph:[],twitter:[],manifest:"/manifest.webmanifest"}}]},{layout:[()=>Promise.resolve().then(r.bind(r,9293)),"C:\\Users\\dmazzucco\\OneDrive - SA San Miguel A.G.I.C.I. y F\\Escritorio\\Daniel Mazuzzcco Personal\\e-comerce\\frontend\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[],apple:[],openGraph:[],twitter:[],manifest:"/manifest.webmanifest"}}],c=["C:\\Users\\dmazzucco\\OneDrive - SA San Miguel A.G.I.C.I. y F\\Escritorio\\Daniel Mazuzzcco Personal\\e-comerce\\frontend\\app\\checkout\\multistep\\page.tsx"],m="/checkout/multistep/page",x={require:r,loadChunk:()=>Promise.resolve()},h=new s.AppPageRouteModule({definition:{kind:t.x.APP_PAGE,page:"/checkout/multistep/page",pathname:"/checkout/multistep",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},6050:(e,a,r)=>{Promise.resolve().then(r.bind(r,1641))},1641:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>i});var s=r(326),t=r(7577);let o=process.env.NEXT_PUBLIC_API_URL||"https://e-comerce-floreria-production.up.railway.app/api",i=()=>{let[e,a]=(0,t.useState)(1),[r,i]=(0,t.useState)({items:[],total_price:0,total_items:0,is_empty:!0}),[n,l]=(0,t.useState)(!0),[d,c]=(0,t.useState)(!1);(0,t.useEffect)(()=>{(async()=>{try{l(!0),console.log("\uD83D\uDD04 Checkout - Cargando carrito directamente del API...");let e=`${o}/carrito/simple/`;console.log("\uD83D\uDCE1 Fetch URL:",e);let a=await fetch(e,{method:"GET",credentials:"include",headers:{Accept:"application/json"}});console.log(`üì° ${e} - Status:`,a.status,a.statusText);let r=null;if(a.ok){let s=await a.json();console.log(`‚úÖ ${e} - Datos:`,s),s&&Array.isArray(s.items)?(r=s,console.log(`üéâ ${e} - \xa1Encontrados ${s.items.length} productos!`)):console.log(`‚ö†Ô∏è ${e} - Carrito vac\xedo o inv\xe1lido`)}if(r){let e={items:Array.isArray(r.items)?r.items:[],total_price:parseFloat(r.total_price)||0,total_items:parseInt(r.total_items)||0,is_empty:!!r.is_empty};i(e),c(!1)}else throw Error("No se pudo cargar el carrito desde ning\xfan endpoint")}catch(e){console.error("‚ùå Checkout - Error cargando carrito:",e),c(!0)}finally{l(!1)}})()},[]);let m=[{id:1,title:"Remitente",icon:"\uD83D\uDC64"},{id:2,title:"Destinatario",icon:"\uD83D\uDCCD"},{id:3,title:"Dedicatoria",icon:"\uD83D\uDC8C"},{id:4,title:"Extras",icon:"\uD83C\uDF81"},{id:5,title:"Env\xedo",icon:"\uD83D\uDE9A"},{id:6,title:"Pago",icon:"\uD83D\uDCB3"}],[x,h]=(0,t.useState)({nombre:"",apellido:"",email:"",telefono:"",envioAnonimo:!1,nombreDestinatario:"",apellidoDestinatario:"",telefonoDestinatario:"",direccion:"",ciudad:"",codigoPostal:"",referencia:"",mensaje:"",firmadoComo:"",incluirTarjeta:!0,tarjetaPersonalizada:!1,textoTarjeta:"",osoDePerluche:!1,tipoOso:"clasico",metodoEnvio:"express",fecha:"",hora:"",instrucciones:"",metodoPago:"mercadopago",aceptaTerminos:!1}),[u,p]=(0,t.useState)({}),[g,j]=(0,t.useState)(!1),b=(e,a)=>{let r="";switch(e){case"nombre":case"nombreDestinatario":r=a.trim()?"":"Este campo es obligatorio";break;case"email":a.trim()?/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(a)||(r="Email inv\xe1lido (ejemplo: nombre@dominio.com)"):r="El email es obligatorio";break;case"telefono":case"telefonoDestinatario":a.trim()?/^\d{7,15}$/.test(a.replace(/[\s-]/g,""))||(r="Tel\xe9fono inv\xe1lido (solo n\xfameros, 7-15 d\xedgitos)"):r="El tel\xe9fono es obligatorio";break;case"direccion":r=a.trim()?"":"La direcci\xf3n es obligatoria";break;case"ciudad":r=a.trim()?"":"La ciudad es obligatoria";break;case"fecha":r="programado"!==x.metodoEnvio||a?"":"Selecciona una fecha para el env\xedo programado";break;case"aceptaTerminos":r=a?"":"Debes aceptar los t\xe9rminos y condiciones"}return r&&console.log(`‚ùå Campo ${e} inv\xe1lido:`,r),r},f=()=>{console.log(`üîç Validando paso ${e}...`);let a={};switch(e){case 1:console.log("\uD83D\uDC64 Validando datos del remitente"),x.envioAnonimo?console.log("El env\xedo es an\xf3nimo, no se validan datos del remitente"):(a.nombre=b("nombre",x.nombre),a.email=b("email",x.email),a.telefono=b("telefono",x.telefono));break;case 2:console.log("\uD83D\uDCCD Validando datos del destinatario"),a.nombreDestinatario=b("nombreDestinatario",x.nombreDestinatario),a.telefonoDestinatario=b("telefonoDestinatario",x.telefonoDestinatario),a.direccion=b("direccion",x.direccion),a.ciudad=b("ciudad",x.ciudad);break;case 5:console.log("\uD83D\uDE9A Validando datos de env\xedo"),"programado"===x.metodoEnvio&&(a.fecha=b("fecha",x.fecha));break;case 6:console.log("\uD83D\uDCB3 Validando datos de pago"),a.aceptaTerminos=b("aceptaTerminos",x.aceptaTerminos)}let r=Object.fromEntries(Object.entries(a).filter(([e,a])=>""!==a));return p(r),0===Object.keys(r).length},v=e=>{let{name:a,value:r,type:s}=e.target,t=e.target.checked,o="checkbox"===s?t:r;h(e=>({...e,[a]:o}));let i=b(a,o);console.log(`Validando campo ${a} en tiempo real:`,i?`‚ùå ERROR: ${i}`:"‚úÖ OK"),p(e=>({...e,[a]:i}))},N=async()=>{let e=f();if(j(!0),!e){console.log("‚ùå Error de validaci\xf3n en el paso final");return}try{console.log("\uD83D\uDE80 INICIANDO CREACI\xd3N DE PEDIDO"),alert("\uD83D\uDE80 Iniciando creaci\xf3n de pedido..."),console.log("\uD83D\uDCE1 Haciendo request a carrito...");let e=await fetch(`${o}/carrito/`,{method:"GET",credentials:"include"});console.log("\uD83D\uDCE1 Response status carrito:",e.status);let a=await e.json();if(console.log("\uD83D\uDCE6 Estado del carrito completo:",JSON.stringify(a,null,2)),!a.items||0===a.items.length){console.log("‚ùå CARRITO VAC\xcdO - items:",a.items),alert("‚ùå El carrito est\xe1 vac\xedo. Agrega productos antes de finalizar el pedido.");return}console.log(`‚úÖ CARRITO V\xc1LIDO: ${a.items.length} productos`),alert(`‚úÖ Carrito verificado: ${a.items.length} productos por $${a.total_price}`),console.log("\uD83D\uDCE1 Enviando pedido a simple-checkout...");let r=new Date;r.setDate(r.getDate()+1),0===r.getDay()&&r.setDate(r.getDate()+1);let s=r.toISOString().split("T")[0],t=o.replace("/api","");console.log("\uD83D\uDC40 Valores del formulario:",{nombre:x.nombre,email:x.email,telefono:x.telefono,nombreDestinatario:x.nombreDestinatario,direccion:x.direccion}),console.log("\uD83D\uDD17 URL de la API:",`${t}/api/pedidos/simple-checkout/`);let i=await fetch(`${t}/api/pedidos/simple-checkout/`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({nombre_comprador:x.nombre?x.nombre.trim():"Cliente Web",email_comprador:x.email?x.email.trim():"cliente@floreriacristina.com",telefono_comprador:x.telefono?x.telefono.trim():"1123456789",nombre_destinatario:x.nombreDestinatario?x.nombreDestinatario.trim():"Destinatario",telefono_destinatario:x.telefonoDestinatario?x.telefonoDestinatario.trim():"1123456789",direccion:x.direccion?x.direccion.trim():"Direcci\xf3n de prueba 123",ciudad:x.ciudad?x.ciudad.trim():"Buenos Aires",codigo_postal:x.codigoPostal?x.codigoPostal.trim():"1000",fecha_entrega:s,franja_horaria:"ma\xf1ana",metodo_envio_id:1,dedicatoria:x.mensaje||"Entrega de Florer\xeda Cristina",instrucciones:x.instrucciones||"",regalo_anonimo:!1,medio_pago:x.metodoPago})}),n=await i.json();if(console.log("\uD83D\uDCCB Respuesta del servidor:",n),n.details){console.log("‚ö†Ô∏è CAMPOS CON ERROR:",n.details),Object.entries(n.details).forEach(([e,a])=>{console.error(`Campo con error: ${e} - ${JSON.stringify(a)}`)});let e=Object.entries(n.details).map(([e,a])=>`${e}: ${JSON.stringify(a)}`).join("\n");alert(`‚ùå Error de validaci\xf3n:
${e}`)}if(i.ok){if(alert(`üéâ \xa1Pedido #${n.numero_pedido} creado exitosamente! ID: ${n.pedido_id}`),"mercadopago"===x.metodoPago)try{console.log("\uD83D\uDCB3 Creando preferencia de MercadoPago...");let e=await fetch(`${t}/api/pedidos/simple/${n.pedido_id}/payment/`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"}),a=await e.json();console.log("\uD83D\uDCB3 Respuesta de pago:",a),a.success?(console.log("‚úÖ Preferencia creada, redirigiendo a MercadoPago..."),window.location.href=a.init_point):(alert(`‚ùå Error al crear el pago: ${a.error||"Error desconocido"}`),console.error("Error de pago:",a))}catch(e){console.error("Error creating payment preference:",e),alert("‚ùå Error al procesar el pago. Pedido creado pero pago pendiente.")}else window.location.href=`/checkout/success?pedido=${n.pedido_id}`}else console.error("‚ùå ERROR COMPLETO:",n)}catch(a){let e=a instanceof Error?a.message:"Error desconocido";alert(`‚ùå Error de conexi\xf3n: ${e}`),console.error("Connection error:",a)}};return n?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,s.jsxs)("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 border-4 border-gray-300 border-t-green-600 rounded-full animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Cargando tu carrito directamente..."})]})}):d?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,s.jsxs)("div",{className:"text-center max-w-md mx-auto px-4",children:[s.jsx("div",{className:"text-6xl mb-4",children:"‚ö†Ô∏è"}),s.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Error de Conexi\xf3n"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"No pudimos cargar tu carrito. Por favor intenta nuevamente."}),s.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition",children:"Reintentar"})]})}):r.items&&0!==r.items.length?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-green-50/30",children:(0,s.jsxs)("div",{className:"container mx-auto px-6 py-16 max-w-4xl",children:[(0,s.jsxs)("div",{className:"text-center mb-12",children:[(0,s.jsxs)("h1",{className:"text-4xl font-extralight text-gray-900 mb-4",children:[s.jsx("span",{className:"text-green-500",children:"Florer\xeda"})," Cristina"]}),(0,s.jsxs)("p",{className:"text-lg text-gray-600",children:["Paso ",e," de 6: ",s.jsx("span",{className:"font-medium text-green-600",children:m[e-1].title})]})]}),s.jsx("div",{className:"flex justify-center mb-12 overflow-hidden",children:(0,s.jsxs)("div",{className:"hidden md:flex relative max-w-3xl w-full px-10",children:[s.jsx("div",{className:"absolute top-5 left-0 w-full h-0.5 bg-gray-200 z-0"}),s.jsx("div",{className:"flex justify-between w-full relative z-10",children:m.map(a=>(0,s.jsxs)("div",{className:`flex flex-col items-center space-y-2 transition-transform duration-300 ${e===a.id?"scale-110":""}`,children:[s.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-lg 
                    ${e>a.id?"bg-green-500 text-white":""}
                    ${e===a.id?"bg-green-100 border-2 border-green-500 ring-4 ring-green-50 text-green-600":""}
                    ${e<a.id?"bg-gray-100 border-2 border-gray-300 text-gray-400":""}
                    transition-all duration-300 shadow-sm`,children:e>a.id?"‚úì":a.icon}),s.jsx("div",{className:`text-xs font-medium ${e===a.id?"text-green-600":e>a.id?"text-gray-700":"text-gray-400"}`,children:a.title})]},a.id))})]})}),(0,s.jsxs)("div",{className:"bg-white/60 backdrop-blur-sm rounded-3xl p-8 shadow-xl mb-8",children:[1===e&&(0,s.jsxs)("div",{children:[s.jsx("h2",{className:"text-2xl font-light mb-6",children:"\uD83D\uDC64 Datos del Remitente"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"flex flex-col",children:[s.jsx("input",{name:"nombre",value:x.nombre,onChange:v,className:`p-4 rounded-xl ${u.nombre?"border-2 border-red-500 bg-red-50 shadow-md shadow-red-300/30":"bg-white/50 border-0"}`,placeholder:"Nombre",disabled:x.envioAnonimo}),u.nombre&&(0,s.jsxs)("span",{className:"text-red-600 font-medium text-sm mt-1",children:["‚ö†Ô∏è ",u.nombre]})]}),s.jsx("input",{name:"apellido",value:x.apellido,onChange:v,className:"p-4 rounded-xl bg-white/50 border-0",placeholder:"Apellido"}),(0,s.jsxs)("div",{className:"flex flex-col",children:[s.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email"}),s.jsx("input",{id:"email",name:"email",type:"email",value:x.email,onChange:v,className:`p-4 rounded-xl ${u.email?"border-2 border-red-500 bg-red-50 shadow-md shadow-red-300/30":"bg-white/50 border-0"}`,placeholder:"Email",disabled:x.envioAnonimo,"aria-required":"true","aria-invalid":"false",...u.email&&{"aria-invalid":"true"},"aria-describedby":u.email?"email-error":void 0}),u.email&&(0,s.jsxs)("span",{id:"email-error",className:"text-red-600 font-medium text-sm mt-1",children:["‚ö†Ô∏è ",u.email]})]}),(0,s.jsxs)("div",{className:"flex flex-col",children:[s.jsx("label",{htmlFor:"telefono",className:"sr-only",children:"Tel\xe9fono"}),s.jsx("input",{id:"telefono",name:"telefono",value:x.telefono,onChange:v,className:`p-4 rounded-xl ${u.telefono?"border-2 border-red-500 bg-red-50 shadow-md shadow-red-300/30":"bg-white/50 border-0"}`,placeholder:"Tel\xe9fono (solo n\xfameros, m\xednimo 7 d\xedgitos)",disabled:x.envioAnonimo,"aria-required":"true","aria-invalid":"false",...u.telefono&&{"aria-invalid":"true"},"aria-describedby":u.telefono?"telefono-error":void 0}),u.telefono&&(0,s.jsxs)("span",{id:"telefono-error",className:"text-red-600 font-medium text-sm mt-1",children:["‚ö†Ô∏è ",u.telefono]})]})]}),s.jsx("div",{className:"mt-4",children:(0,s.jsxs)("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",name:"envioAnonimo",checked:x.envioAnonimo,onChange:v,className:"mr-2"}),s.jsx("span",{children:"Env\xedo an\xf3nimo"})]})})]}),2===e&&(0,s.jsxs)("div",{children:[s.jsx("h2",{className:"text-2xl font-light mb-6",children:"\uD83D\uDCCD Datos del Destinatario"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"flex flex-col",children:[s.jsx("input",{name:"nombreDestinatario",value:x.nombreDestinatario,onChange:v,className:`p-4 rounded-xl bg-white/50 border-0 ${u.nombreDestinatario?"border-2 border-red-300 bg-red-50/10":""}`,placeholder:"Nombre destinatario"}),u.nombreDestinatario&&s.jsx("span",{className:"text-red-600 text-sm mt-1",children:u.nombreDestinatario})]}),s.jsx("input",{name:"apellidoDestinatario",value:x.apellidoDestinatario,onChange:v,className:"p-4 rounded-xl bg-white/50 border-0",placeholder:"Apellido destinatario"}),(0,s.jsxs)("div",{className:"flex flex-col",children:[s.jsx("input",{name:"telefonoDestinatario",value:x.telefonoDestinatario,onChange:v,className:`p-4 rounded-xl bg-white/50 border-0 ${u.telefonoDestinatario?"border-2 border-red-300 bg-red-50/10":""}`,placeholder:"Tel\xe9fono"}),u.telefonoDestinatario&&s.jsx("span",{className:"text-red-600 text-sm mt-1",children:u.telefonoDestinatario})]}),s.jsx("input",{name:"codigoPostal",value:x.codigoPostal,onChange:v,className:"p-4 rounded-xl bg-white/50 border-0",placeholder:"C\xf3digo Postal"})]}),(0,s.jsxs)("div",{className:"flex flex-col w-full mt-4",children:[s.jsx("input",{name:"direccion",value:x.direccion,onChange:v,className:`w-full p-4 rounded-xl bg-white/50 border-0 ${u.direccion?"border-2 border-red-300 bg-red-50/10":""}`,placeholder:"Direcci\xf3n completa"}),u.direccion&&s.jsx("span",{className:"text-red-600 text-sm mt-1",children:u.direccion})]}),(0,s.jsxs)("div",{className:"flex flex-col w-full mt-4",children:[s.jsx("input",{name:"ciudad",value:x.ciudad,onChange:v,className:`w-full p-4 rounded-xl bg-white/50 border-0 ${u.ciudad?"border-2 border-red-300 bg-red-50/10":""}`,placeholder:"Ciudad"}),u.ciudad&&s.jsx("span",{className:"text-red-600 text-sm mt-1",children:u.ciudad})]})]}),3===e&&(0,s.jsxs)("div",{children:[s.jsx("h2",{className:"text-2xl font-light mb-6",children:"\uD83D\uDC8C Dedicatoria"}),s.jsx("textarea",{name:"mensaje",value:x.mensaje,onChange:v,className:"w-full p-4 rounded-xl bg-white/50 border-0 h-32",placeholder:"Mensaje especial..."}),s.jsx("input",{name:"firmadoComo",value:x.firmadoComo,onChange:v,className:"w-full p-4 rounded-xl bg-white/50 border-0 mt-4",placeholder:"Firmado como (opcional)"}),s.jsx("div",{className:"mt-4",children:(0,s.jsxs)("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",name:"incluirTarjeta",checked:x.incluirTarjeta,onChange:v,className:"mr-2"}),s.jsx("span",{children:"Incluir tarjeta con el mensaje"})]})})]}),4===e&&(0,s.jsxs)("div",{children:[s.jsx("h2",{className:"text-2xl font-light mb-6",children:"\uD83C\uDF81 Extras Especiales"}),s.jsx("div",{className:"bg-white/30 rounded-xl p-6 mb-6",children:(0,s.jsxs)("label",{className:"flex items-start cursor-pointer",children:[s.jsx("input",{type:"checkbox",name:"tarjetaPersonalizada",checked:x.tarjetaPersonalizada,onChange:v,className:"mr-4 mt-1"}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"font-medium text-lg",children:"\uD83D\uDCDD Tarjeta Personalizada"}),s.jsx("span",{className:"text-green-600 font-semibold",children:"+$5.000"})]}),s.jsx("p",{className:"text-gray-600 text-sm mb-3",children:"Agrega una tarjeta especial con tu mensaje personalizado"}),x.tarjetaPersonalizada&&s.jsx("textarea",{name:"textoTarjeta",value:x.textoTarjeta,onChange:v,className:"w-full p-3 rounded-lg bg-white/70 border-0 h-20",placeholder:"Escribe tu mensaje para la tarjeta personalizada..."})]})]})}),s.jsx("div",{className:"bg-white/30 rounded-xl p-6",children:(0,s.jsxs)("label",{className:"flex items-start cursor-pointer",children:[s.jsx("input",{type:"checkbox",name:"osoDePerluche",checked:x.osoDePerluche,onChange:v,className:"mr-4 mt-1"}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"font-medium text-lg",children:"\uD83E\uDDF8 Oso de Peluche"}),s.jsx("span",{className:"text-green-600 font-semibold",children:"+$15.000"})]}),s.jsx("p",{className:"text-gray-600 text-sm mb-3",children:"Acompa\xf1a tu regalo con un tierno oso de peluche"}),x.osoDePerluche&&(0,s.jsxs)("select",{name:"tipoOso",value:x.tipoOso,onChange:v,className:"w-full p-3 rounded-lg bg-white/70 border-0",children:[s.jsx("option",{value:"clasico",children:"\uD83E\uDD0E Oso Cl\xe1sico Marr\xf3n"}),s.jsx("option",{value:"blanco",children:"\uD83E\uDD0D Oso Blanco Suave"}),s.jsx("option",{value:"rosa",children:"\uD83D\uDC97 Oso Rosa Rom\xe1ntico"}),s.jsx("option",{value:"gigante",children:"\uD83E\uDDF8 Oso Gigante (50cm)"})]})]})]})})]}),5===e&&(0,s.jsxs)("div",{children:[s.jsx("h2",{className:"text-2xl font-light mb-6",children:"\uD83D\uDE9A M\xe9todo de Env\xedo"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Selecciona c\xf3mo deseas que entregemos tus flores"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("label",{className:`flex flex-col h-full p-6 rounded-xl cursor-pointer transition-all duration-200 ${"express"===x.metodoEnvio?"bg-green-50 border-2 border-green-500 shadow-lg":"bg-white/50 hover:shadow-md border-2 border-transparent"}`,children:[(0,s.jsxs)("div",{className:"flex items-start",children:[s.jsx("input",{type:"radio",name:"metodoEnvio",value:"express",checked:"express"===x.metodoEnvio,onChange:v,className:"mr-4 mt-1"}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"font-medium text-lg",children:"Env\xedo Express"}),s.jsx("span",{className:"text-green-600 font-medium",children:"Gratis"})]}),(0,s.jsxs)("div",{className:"flex items-center text-sm text-gray-600 mb-2",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:"mr-2 text-green-600",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Entrega el mismo d\xeda (2-4 horas)"]})]})]}),(0,s.jsxs)("div",{className:"mt-4 text-sm bg-green-50 p-3 rounded text-green-700 border border-green-100",children:[s.jsx("strong",{children:"Recomendado:"})," Ideal para ocasiones especiales y entregas urgentes."]})]}),(0,s.jsxs)("label",{className:`flex flex-col h-full p-6 rounded-xl cursor-pointer transition-all duration-200 ${"programado"===x.metodoEnvio?"bg-blue-50 border-2 border-blue-500 shadow-lg":"bg-white/50 hover:shadow-md border-2 border-transparent"}`,children:[(0,s.jsxs)("div",{className:"flex items-start",children:[s.jsx("input",{type:"radio",name:"metodoEnvio",value:"programado",checked:"programado"===x.metodoEnvio,onChange:v,className:"mr-4 mt-1"}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"font-medium text-lg",children:"Env\xedo Programado"}),s.jsx("span",{className:"text-blue-600 font-medium",children:"$5.000"})]}),(0,s.jsxs)("div",{className:"flex items-center text-sm text-gray-600 mb-2",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:"mr-2 text-blue-600",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Elige fecha y hora espec\xedfica"]})]})]}),(0,s.jsxs)("div",{className:"mt-4 text-sm bg-blue-50 p-3 rounded text-blue-700 border border-blue-100",children:[s.jsx("strong",{children:"Planificado:"})," Perfecto para aniversarios, cumplea\xf1os y eventos programados."]})]})]}),"programado"===x.metodoEnvio&&(0,s.jsxs)("div",{className:"mt-6 space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"flex flex-col",children:[s.jsx("input",{type:"date",name:"fecha",value:x.fecha,onChange:v,className:`p-4 rounded-xl bg-white/50 border-0 ${u.fecha?"border-2 border-red-300 bg-red-50/10":""}`}),u.fecha&&s.jsx("span",{className:"text-red-600 text-sm mt-1",children:u.fecha})]}),s.jsx("input",{type:"time",name:"hora",value:x.hora,onChange:v,className:"p-4 rounded-xl bg-white/50 border-0"})]}),s.jsx("textarea",{name:"instrucciones",value:x.instrucciones,onChange:v,className:"w-full p-4 rounded-xl bg-white/50 border-0 h-20",placeholder:"Instrucciones especiales de entrega..."})]})]}),6===e&&(0,s.jsxs)("div",{children:[s.jsx("h2",{className:"text-2xl font-light mb-6",children:"\uD83D\uDCB3 M\xe9todo de Pago"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Selecciona c\xf3mo deseas pagar tu compra"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,s.jsxs)("label",{className:`flex flex-col h-full p-5 rounded-xl cursor-pointer transition-all duration-200 ${"mercadopago"===x.metodoPago?"bg-blue-50 border-2 border-blue-500 shadow-lg":"bg-white/50 hover:bg-blue-50/30 hover:shadow-md border-2 border-transparent"}`,children:[(0,s.jsxs)("div",{className:"flex items-start",children:[s.jsx("input",{type:"radio",name:"metodoPago",value:"mercadopago",checked:"mercadopago"===x.metodoPago,onChange:v,className:"mr-3 mt-1"}),s.jsx("div",{children:s.jsx("div",{className:"font-medium",children:"MercadoPago"})})]}),s.jsx("div",{className:"mt-3 flex justify-center",children:s.jsx("img",{src:"/images/mercadopago.png",alt:"MercadoPago",className:"h-10",onError:e=>{e.currentTarget.src="https://imgmp.mlstatic.com/org-img/banners/ar/medios/online/468X60.jpg",e.currentTarget.className="h-8"}})}),s.jsx("div",{className:"mt-3 text-xs text-gray-600 text-center",children:"Tarjetas de cr\xe9dito/d\xe9bito"})]}),(0,s.jsxs)("label",{className:`flex flex-col h-full p-5 rounded-xl cursor-pointer transition-all duration-200 ${"transferencia"===x.metodoPago?"bg-green-50 border-2 border-green-500 shadow-lg":"bg-white/50 hover:bg-green-50/30 hover:shadow-md border-2 border-transparent"}`,children:[(0,s.jsxs)("div",{className:"flex items-start",children:[s.jsx("input",{type:"radio",name:"metodoPago",value:"transferencia",checked:"transferencia"===x.metodoPago,onChange:v,className:"mr-3 mt-1"}),s.jsx("div",{children:s.jsx("div",{className:"font-medium",children:"Transferencia"})})]}),s.jsx("div",{className:"mt-3 flex justify-center text-3xl",children:"\uD83C\uDFE6"}),s.jsx("div",{className:"mt-3 text-xs text-gray-600 text-center",children:"Transferencia bancaria"})]}),(0,s.jsxs)("label",{className:`flex flex-col h-full p-5 rounded-xl cursor-pointer transition-all duration-200 ${"efectivo"===x.metodoPago?"bg-yellow-50 border-2 border-yellow-500 shadow-lg":"bg-white/50 hover:bg-yellow-50/30 hover:shadow-md border-2 border-transparent"}`,children:[(0,s.jsxs)("div",{className:"flex items-start",children:[s.jsx("input",{type:"radio",name:"metodoPago",value:"efectivo",checked:"efectivo"===x.metodoPago,onChange:v,className:"mr-3 mt-1"}),s.jsx("div",{children:s.jsx("div",{className:"font-medium",children:"Efectivo"})})]}),s.jsx("div",{className:"mt-3 flex justify-center text-3xl",children:"\uD83D\uDCB5"}),s.jsx("div",{className:"mt-3 text-xs text-gray-600 text-center",children:"Pago al recibir"})]})]}),"transferencia"===x.metodoPago&&(0,s.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg mb-6 border border-green-100",children:[(0,s.jsxs)("h4",{className:"font-medium mb-2 flex items-center",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:"mr-2 text-green-600",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Datos para transferencia:"]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{className:"text-gray-600",children:[s.jsx("strong",{children:"Banco:"})," Banco de Argentina"]}),(0,s.jsxs)("p",{className:"text-gray-600",children:[s.jsx("strong",{children:"Titular:"})," Florer\xeda Cristina S.A."]})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{className:"text-gray-600",children:[s.jsx("strong",{children:"CBU:"})," 0000000000000000000000"]}),(0,s.jsxs)("p",{className:"text-gray-600",children:[s.jsx("strong",{children:"CUIT:"})," 30-12345678-9"]})]})]})]}),s.jsx("div",{className:"mt-6",children:(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsxs)("label",{className:"flex items-start",children:[s.jsx("input",{type:"checkbox",name:"aceptaTerminos",checked:x.aceptaTerminos,onChange:v,className:`mr-3 mt-1 ${u.aceptaTerminos?"outline outline-2 outline-red-300":""}`}),(0,s.jsxs)("span",{className:"text-sm text-gray-600",children:["Acepto los ",s.jsx("span",{className:"text-green-600 underline cursor-pointer",children:"t\xe9rminos y condiciones"})," y la ",s.jsx("span",{className:"text-green-600 underline cursor-pointer",children:"pol\xedtica de privacidad"})]})]}),u.aceptaTerminos&&s.jsx("span",{className:"text-red-600 text-sm mt-1",children:u.aceptaTerminos})]})})]})]}),(0,s.jsxs)("div",{className:"flex justify-between mt-8",children:[e>1?(0,s.jsxs)("button",{onClick:()=>{e>1&&(a(e-1),j(!1))},className:"px-6 py-3 bg-white border border-gray-200 rounded-lg hover:bg-gray-50 flex items-center gap-2 transition-all shadow-sm hover:shadow",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:s.jsx("path",{d:"M19 12H5M12 19l-7-7 7-7"})}),"Anterior"]}):s.jsx("div",{}),e<6?(0,s.jsxs)("div",{className:"flex flex-col items-end",children:[g&&Object.keys(u).length>0&&s.jsx("p",{className:"text-red-500 text-sm mb-2",children:"Por favor, completa correctamente todos los campos requeridos."}),(0,s.jsxs)("button",{onClick:()=>{let r=f();if(j(!0),console.log("Validaci\xf3n de formulario:",r?"‚úÖ Paso v\xe1lido":"‚ùå Hay errores en el formulario"),console.log("Errores:",u),r&&e<6)a(e+1),j(!1);else{let e=Object.entries(u).filter(([e,a])=>""!==a).map(([e,a])=>`- ${e}: ${a}`).join("\n");alert(`‚ö†Ô∏è ERRORES DE VALIDACI\xd3N

${e}

Por favor, corrige estos campos antes de continuar.`)}},className:"px-6 py-3 bg-gradient-to-r from-green-500 to-green-600 text-white rounded-lg hover:shadow-md transition-all flex items-center gap-2 font-medium",children:["Siguiente",s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:s.jsx("path",{d:"M5 12h14M12 5l7 7-7 7"})})]})]}):(0,s.jsxs)("div",{className:"flex flex-col items-end",children:[g&&Object.keys(u).length>0&&s.jsx("p",{className:"text-red-500 text-sm mb-2",children:"Debes aceptar los t\xe9rminos y condiciones para continuar."}),(0,s.jsxs)("button",{onClick:N,className:"px-8 py-4 bg-gradient-to-r from-green-500 to-green-600 text-white rounded-lg hover:shadow-lg transition-all text-lg font-medium flex items-center gap-2",children:[s.jsx("span",{children:"Confirmar Pedido"}),s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:s.jsx("path",{d:"M5 12h14M12 5l7 7-7 7"})})]})]})]}),(0,s.jsxs)("div",{className:"mt-8 bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[(0,s.jsxs)("h3",{className:"text-lg font-medium mb-4 flex items-center gap-2",children:[(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14"}),s.jsx("path",{d:"M16.5 9.4 7.55 4.24"}),s.jsx("polyline",{points:"3.29 7 12 12 20.71 7"}),s.jsx("line",{x1:"12",y1:"22",x2:"12",y2:"12"}),s.jsx("circle",{cx:"18.5",cy:"15.5",r:"2.5"}),s.jsx("path",{d:"M20.27 17.27 22 19"})]}),s.jsx("span",{children:"Resumen del pedido"})]}),r?.items&&r.items.length>0?s.jsx("div",{className:"space-y-3 mb-4 divide-y divide-gray-100",children:r.items.map((e,a)=>(0,s.jsxs)("div",{className:"flex justify-between items-center pt-3 first:pt-0",children:[(0,s.jsxs)("div",{className:"flex gap-3 items-center",children:[s.jsx("div",{className:"bg-gray-50 w-12 h-12 rounded-lg flex items-center justify-center text-xl",children:"\uD83C\uDF38"}),(0,s.jsxs)("div",{children:[s.jsx("span",{className:"font-medium text-gray-800",children:e.producto.nombre}),(0,s.jsxs)("div",{className:"text-sm text-gray-500 flex items-center gap-2",children:[(0,s.jsxs)("span",{className:"px-2 py-0.5 bg-green-50 text-green-700 rounded-full text-xs",children:["Cantidad: ",e.quantity]}),s.jsx("span",{className:"text-gray-400",children:"|"}),(0,s.jsxs)("span",{children:["$",Number(e.price).toFixed(2)," c/u"]})]})]})]}),(0,s.jsxs)("div",{className:"font-medium text-green-600",children:["$",(Number(e.price)*e.quantity).toFixed(2)]})]},a))}):(0,s.jsxs)("div",{className:"text-red-500 mb-4 p-3 bg-red-50 rounded-lg",children:["‚ö†Ô∏è No hay productos en el carrito",s.jsx("br",{}),s.jsx("button",{onClick:()=>window.location.href="/",className:"mt-2 text-sm text-blue-600 hover:text-blue-800",children:"Ir a agregar productos"})]}),x.tarjetaPersonalizada&&(0,s.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[s.jsx("span",{children:"\uD83D\uDCDD Tarjeta Personalizada"}),s.jsx("span",{children:"+$5.000"})]}),x.osoDePerluche&&(0,s.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[s.jsx("span",{children:"\uD83E\uDDF8 Oso de Peluche"}),s.jsx("span",{children:"+$15.000"})]}),"programado"===x.metodoEnvio&&(0,s.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[s.jsx("span",{children:"\uD83D\uDE9A Env\xedo Programado"}),s.jsx("span",{children:"+$5.000"})]}),(0,s.jsxs)("div",{className:"border-t border-gray-100 pt-4 mt-4 space-y-2",children:[(0,s.jsxs)("div",{className:"flex justify-between text-gray-600",children:[s.jsx("span",{children:"Subtotal"}),(0,s.jsxs)("span",{children:["$",r.total_price.toFixed(2)]})]}),x.tarjetaPersonalizada&&(0,s.jsxs)("div",{className:"flex justify-between text-gray-600",children:[s.jsx("span",{children:"Tarjeta personalizada"}),s.jsx("span",{children:"$5,000.00"})]}),x.osoDePerluche&&(0,s.jsxs)("div",{className:"flex justify-between text-gray-600",children:[s.jsx("span",{children:"Oso de peluche"}),s.jsx("span",{children:"$15,000.00"})]}),"programado"===x.metodoEnvio&&(0,s.jsxs)("div",{className:"flex justify-between text-gray-600",children:[s.jsx("span",{children:"Env\xedo programado"}),s.jsx("span",{children:"$5,000.00"})]}),(0,s.jsxs)("div",{className:"flex justify-between font-semibold text-lg text-green-700 pt-2 border-t border-dashed border-gray-100",children:[s.jsx("span",{children:"Total"}),(0,s.jsxs)("span",{children:["$",(()=>{let e=r.total_price||0;return x.tarjetaPersonalizada&&(e+=5e3),x.osoDePerluche&&(e+=15e3),"programado"===x.metodoEnvio&&(e+=5e3),e})().toFixed(2)]})]})]})]})]})}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,s.jsxs)("div",{className:"text-center max-w-md mx-auto px-4",children:[s.jsx("div",{className:"text-6xl mb-4",children:"\uD83D\uDED2"}),s.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Carrito Vac\xedo"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Tu carrito est\xe1 vac\xedo. Agrega productos antes de continuar al checkout."}),s.jsx("button",{onClick:()=>window.location.href="/",className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition",children:"Ver Productos"})]})})}},2806:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>s});let s=(0,r(8570).createProxy)(String.raw`C:\Users\dmazzucco\OneDrive - SA San Miguel A.G.I.C.I. y F\Escritorio\Daniel Mazuzzcco Personal\e-comerce\frontend\app\checkout\multistep\page.tsx#default`)}};var a=require("../../../webpack-runtime.js");a.C(e);var r=e=>a(a.s=e),s=a.X(0,[8948,2063,6744],()=>r(8300));module.exports=s})();