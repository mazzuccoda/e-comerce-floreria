(()=>{var e={};e.id=4550,e.ids=[4550],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5881:(e,r,a)=>{"use strict";a.r(r),a.d(r,{GlobalError:()=>o.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>c,routeModule:()=>f,tree:()=>d}),a(6782),a(9293),a(5866);var s=a(3191),t=a(8716),i=a(7922),o=a.n(i),n=a(5231),l={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>n[e]);a.d(r,l);let d=["",{children:["perfil",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,6782)),"C:\\Users\\dmazzucco\\OneDrive - SA San Miguel A.G.I.C.I. y F\\Escritorio\\Daniel Mazuzzcco Personal\\e-comerce\\frontend\\app\\perfil\\page.tsx"]}]},{metadata:{icon:[],apple:[],openGraph:[],twitter:[],manifest:"/manifest.webmanifest"}}]},{layout:[()=>Promise.resolve().then(a.bind(a,9293)),"C:\\Users\\dmazzucco\\OneDrive - SA San Miguel A.G.I.C.I. y F\\Escritorio\\Daniel Mazuzzcco Personal\\e-comerce\\frontend\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,5866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[],apple:[],openGraph:[],twitter:[],manifest:"/manifest.webmanifest"}}],c=["C:\\Users\\dmazzucco\\OneDrive - SA San Miguel A.G.I.C.I. y F\\Escritorio\\Daniel Mazuzzcco Personal\\e-comerce\\frontend\\app\\perfil\\page.tsx"],m="/perfil/page",u={require:a,loadChunk:()=>Promise.resolve()},f=new s.AppPageRouteModule({definition:{kind:t.x.APP_PAGE,page:"/perfil/page",pathname:"/perfil",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},4753:(e,r,a)=>{Promise.resolve().then(a.bind(a,7198))},7198:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>l});var s=a(326),t=a(7577),i=a.n(t),o=a(732),n=a(5047);let l=()=>{let{user:e,updateProfile:r,loading:a,isAuthenticated:l}=(0,o.a)(),d=(0,n.useRouter)(),[c,m]=(0,t.useState)(!1),[u,f]=(0,t.useState)({first_name:e?.first_name||"",last_name:e?.last_name||"",email:e?.email||"",telefono:e?.perfil?.telefono||"",direccion:e?.perfil?.direccion||"",ciudad:e?.perfil?.ciudad||"",codigo_postal:e?.perfil?.codigo_postal||"",recibir_ofertas:e?.perfil?.recibir_ofertas||!1}),[p,g]=(0,t.useState)({});if(i().useEffect(()=>{a||l||d.push("/")},[l,a,d]),i().useEffect(()=>{e&&f({first_name:e.first_name||"",last_name:e.last_name||"",email:e.email||"",telefono:e.perfil?.telefono||"",direccion:e.perfil?.direccion||"",ciudad:e.perfil?.ciudad||"",codigo_postal:e.perfil?.codigo_postal||"",recibir_ofertas:e.perfil?.recibir_ofertas||!1})},[e]),a)return s.jsx("div",{className:"flex justify-center items-center min-h-[400px]",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-700"})});if(!l||!e)return null;let x=e=>{let{name:r,value:a,type:s,checked:t}=e.target;f(e=>({...e,[r]:"checkbox"===s?t:a})),p[r]&&g(e=>({...e,[r]:""}))},b=()=>{let e={};return u.first_name.trim()||(e.first_name="El nombre es requerido"),u.last_name.trim()||(e.last_name="El apellido es requerido"),u.email.trim()?/\S+@\S+\.\S+/.test(u.email)||(e.email="El email no es v\xe1lido"):e.email="El email es requerido",g(e),0===Object.keys(e).length},h=async e=>{e.preventDefault(),b()&&await r(u)&&m(!1)};return s.jsx("div",{className:"max-w-2xl mx-auto",children:(0,s.jsxs)("div",{className:"bg-white shadow-lg rounded-lg p-6",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Mi Perfil"}),!c&&s.jsx("button",{onClick:()=>m(!0),className:"bg-green-700 text-white px-4 py-2 rounded-md hover:bg-green-800 transition-colors",children:"Editar Perfil"})]}),(0,s.jsxs)("form",{onSubmit:h,children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"first_name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre"}),s.jsx("input",{type:"text",id:"first_name",name:"first_name",value:u.first_name,onChange:x,disabled:!c,className:`w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-green-600 focus:border-green-600 ${c?"":"bg-gray-50"} ${p.first_name?"border-red-500":"border-gray-300"}`}),p.first_name&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.first_name})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"last_name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Apellido"}),s.jsx("input",{type:"text",id:"last_name",name:"last_name",value:u.last_name,onChange:x,disabled:!c,className:`w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-green-600 focus:border-green-600 ${c?"":"bg-gray-50"} ${p.last_name?"border-red-500":"border-gray-300"}`}),p.last_name&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.last_name})]})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),s.jsx("input",{type:"email",id:"email",name:"email",value:u.email,onChange:x,disabled:!c,className:`w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-green-600 focus:border-green-600 ${c?"":"bg-gray-50"} ${p.email?"border-red-500":"border-gray-300"}`}),p.email&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.email})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"telefono",className:"block text-sm font-medium text-gray-700 mb-1",children:"Tel\xe9fono"}),s.jsx("input",{type:"tel",id:"telefono",name:"telefono",value:u.telefono,onChange:x,disabled:!c,className:`w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-green-600 focus:border-green-600 ${c?"border-gray-300":"bg-gray-50"}`})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"direccion",className:"block text-sm font-medium text-gray-700 mb-1",children:"Direcci\xf3n"}),s.jsx("input",{type:"text",id:"direccion",name:"direccion",value:u.direccion,onChange:x,disabled:!c,className:`w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-green-600 focus:border-green-600 ${c?"border-gray-300":"bg-gray-50"}`})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"ciudad",className:"block text-sm font-medium text-gray-700 mb-1",children:"Ciudad"}),s.jsx("input",{type:"text",id:"ciudad",name:"ciudad",value:u.ciudad,onChange:x,disabled:!c,className:`w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-green-600 focus:border-green-600 ${c?"border-gray-300":"bg-gray-50"}`})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"codigo_postal",className:"block text-sm font-medium text-gray-700 mb-1",children:"C\xf3digo Postal"}),s.jsx("input",{type:"text",id:"codigo_postal",name:"codigo_postal",value:u.codigo_postal,onChange:x,disabled:!c,className:`w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-green-600 focus:border-green-600 ${c?"border-gray-300":"bg-gray-50"}`})]})]}),(0,s.jsxs)("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"recibir_ofertas",name:"recibir_ofertas",checked:u.recibir_ofertas,onChange:x,disabled:!c,className:"h-4 w-4 text-green-700 focus:ring-green-600 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"recibir_ofertas",className:"ml-2 block text-sm text-gray-700",children:"Recibir ofertas y novedades por email"})]}),(0,s.jsxs)("div",{className:"border-t pt-4 mt-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-4",children:"Informaci\xf3n de Cuenta"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Usuario"}),s.jsx("input",{type:"text",value:e.username,disabled:!0,title:"Nombre de usuario",className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Miembro desde"}),s.jsx("input",{type:"text",value:new Date(e.date_joined).toLocaleDateString("es-AR"),disabled:!0,title:"Fecha de registro",className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50"})]})]})]})]}),c&&(0,s.jsxs)("div",{className:"flex justify-end space-x-3 mt-6 pt-4 border-t",children:[s.jsx("button",{type:"button",onClick:()=>{f({first_name:e.first_name||"",last_name:e.last_name||"",email:e.email||"",telefono:e.perfil?.telefono||"",direccion:e.perfil?.direccion||"",ciudad:e.perfil?.ciudad||"",codigo_postal:e.perfil?.codigo_postal||"",recibir_ofertas:e.perfil?.recibir_ofertas||!1}),g({}),m(!1)},className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancelar"}),s.jsx("button",{type:"submit",disabled:a,className:"px-4 py-2 bg-green-700 text-white rounded-md hover:bg-green-800 disabled:opacity-50 transition-colors",children:a?"Guardando...":"Guardar Cambios"})]})]})]})})}},5047:(e,r,a)=>{"use strict";var s=a(7389);a.o(s,"useParams")&&a.d(r,{useParams:function(){return s.useParams}}),a.o(s,"useRouter")&&a.d(r,{useRouter:function(){return s.useRouter}}),a.o(s,"useSearchParams")&&a.d(r,{useSearchParams:function(){return s.useSearchParams}})},6782:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>s});let s=(0,a(8570).createProxy)(String.raw`C:\Users\dmazzucco\OneDrive - SA San Miguel A.G.I.C.I. y F\Escritorio\Daniel Mazuzzcco Personal\e-comerce\frontend\app\perfil\page.tsx#default`)}};var r=require("../../webpack-runtime.js");r.C(e);var a=e=>r(r.s=e),s=r.X(0,[8948,2063,6744],()=>a(5881));module.exports=s})();