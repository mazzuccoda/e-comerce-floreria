(()=>{var e={};e.id=5527,e.ids=[5527],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9917:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>m,pages:()=>c,routeModule:()=>x,tree:()=>l}),a(8844),a(9293),a(5866);var r=a(3191),t=a(8716),i=a(7922),n=a.n(i),d=a(5231),o={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>d[e]);a.d(s,o);let l=["",{children:["pedido",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,8844)),"C:\\Users\\dmazzucco\\OneDrive - SA San Miguel A.G.I.C.I. y F\\Escritorio\\Daniel Mazuzzcco Personal\\e-comerce\\frontend\\app\\pedido\\[id]\\page.tsx"]}]},{}]},{metadata:{icon:[],apple:[],openGraph:[],twitter:[],manifest:"/manifest.webmanifest"}}]},{layout:[()=>Promise.resolve().then(a.bind(a,9293)),"C:\\Users\\dmazzucco\\OneDrive - SA San Miguel A.G.I.C.I. y F\\Escritorio\\Daniel Mazuzzcco Personal\\e-comerce\\frontend\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,5866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[],apple:[],openGraph:[],twitter:[],manifest:"/manifest.webmanifest"}}],c=["C:\\Users\\dmazzucco\\OneDrive - SA San Miguel A.G.I.C.I. y F\\Escritorio\\Daniel Mazuzzcco Personal\\e-comerce\\frontend\\app\\pedido\\[id]\\page.tsx"],m="/pedido/[id]/page",p={require:a,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:t.x.APP_PAGE,page:"/pedido/[id]/page",pathname:"/pedido/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},9557:(e,s,a)=>{Promise.resolve().then(a.bind(a,4855))},4855:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>o});var r=a(326),t=a(7577),i=a(732),n=a(5047),d=a(434);let o=()=>{let{token:e,loading:s,isAuthenticated:a}=(0,i.a)(),o=(0,n.useRouter)(),l=(0,n.useParams)(),c=l?.id,[m,p]=(0,t.useState)(null),[x,u]=(0,t.useState)(!0),[h,j]=(0,t.useState)(null);if((0,t.useEffect)(()=>{s||a||o.push("/login")},[a,s,o]),(0,t.useEffect)(()=>{let s=async()=>{if(e&&c)try{u(!0);let s=process.env.NEXT_PUBLIC_API_URL||"https://e-comerce-floreria-production.up.railway.app/api",a=await fetch(`${s}/pedidos/simple/${c}/`,{headers:{Authorization:`Token ${e}`,Accept:"application/json"},credentials:"include"});if(a.ok){let e=await a.json();p(e)}else{let e=await a.json();j(e.error||"Error al cargar el pedido")}}catch(e){console.error("Error cargando pedido:",e),j("Error de conexi\xf3n")}finally{u(!1)}};a&&e&&c&&s()},[a,e,c]),s||x)return r.jsx("div",{className:"flex justify-center items-center min-h-[400px]",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-700"})});if(h||!m)return(0,r.jsxs)("div",{className:"max-w-4xl mx-auto",children:[r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded mb-4",children:h||"Pedido no encontrado"}),r.jsx(d.default,{href:"/mis-pedidos",className:"text-green-700 hover:underline",children:"← Volver a Mis Pedidos"})]});let g=m.items.reduce((e,s)=>e+parseFloat(s.precio)*s.cantidad,0);return(0,r.jsxs)("div",{className:"max-w-4xl mx-auto",children:[r.jsx("div",{className:"mb-4",children:(0,r.jsxs)(d.default,{href:"/mis-pedidos",className:"text-green-700 hover:underline flex items-center gap-2",children:[r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Volver a Mis Pedidos"]})}),(0,r.jsxs)("div",{className:"bg-white shadow-lg rounded-lg p-6",children:[r.jsx("div",{className:"border-b pb-4 mb-6",children:(0,r.jsxs)("div",{className:"flex justify-between items-start",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("h1",{className:"text-3xl font-bold text-gray-800",children:["Pedido #",m.numero_pedido]}),r.jsx("p",{className:"text-gray-600 mt-1",children:new Date(m.creado).toLocaleDateString("es-AR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),r.jsx("span",{className:`inline-block px-4 py-2 rounded-full text-sm font-medium ${"pendiente"===m.estado?"bg-yellow-100 text-yellow-800":"confirmado"===m.estado?"bg-blue-100 text-blue-800":"en_camino"===m.estado?"bg-purple-100 text-purple-800":"entregado"===m.estado?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:m.estado_display||m.estado.toUpperCase()})]})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Datos del Comprador"}),(0,r.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg space-y-2",children:[(0,r.jsxs)("p",{children:[r.jsx("span",{className:"font-medium",children:"Nombre:"})," ",m.nombre_comprador]}),(0,r.jsxs)("p",{children:[r.jsx("span",{className:"font-medium",children:"Email:"})," ",m.email_comprador]}),(0,r.jsxs)("p",{children:[r.jsx("span",{className:"font-medium",children:"Tel\xe9fono:"})," ",m.telefono_comprador]})]})]}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Datos de Entrega"}),(0,r.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg space-y-2",children:[(0,r.jsxs)("p",{children:[r.jsx("span",{className:"font-medium",children:"Destinatario:"})," ",m.nombre_destinatario]}),(0,r.jsxs)("p",{children:[r.jsx("span",{className:"font-medium",children:"Direcci\xf3n:"})," ",m.direccion]}),m.ciudad&&(0,r.jsxs)("p",{children:[r.jsx("span",{className:"font-medium",children:"Ciudad:"})," ",m.ciudad]}),(0,r.jsxs)("p",{children:[r.jsx("span",{className:"font-medium",children:"Tel\xe9fono:"})," ",m.telefono_destinatario]}),(0,r.jsxs)("p",{children:[r.jsx("span",{className:"font-medium",children:"Fecha:"})," ",new Date(m.fecha_entrega).toLocaleDateString("es-AR")]}),(0,r.jsxs)("p",{children:[r.jsx("span",{className:"font-medium",children:"Horario:"})," ","ma\xf1ana"===m.franja_horaria?"Ma\xf1ana (9-12hs)":"Tarde (16-20hs)"]})]})]})]}),m.dedicatoria&&(0,r.jsxs)("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Dedicatoria"}),r.jsx("div",{className:"bg-green-50 p-4 rounded-lg border border-green-100",children:r.jsx("p",{className:"italic",children:m.dedicatoria})})]}),m.instrucciones&&(0,r.jsxs)("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Instrucciones Especiales"}),r.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:r.jsx("p",{children:m.instrucciones})})]}),(0,r.jsxs)("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Productos"}),r.jsx("div",{className:"border rounded-lg overflow-hidden",children:(0,r.jsxs)("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50",children:(0,r.jsxs)("tr",{children:[r.jsx("th",{className:"text-left p-4",children:"Producto"}),r.jsx("th",{className:"text-center p-4",children:"Cantidad"}),r.jsx("th",{className:"text-right p-4",children:"Precio Unit."}),r.jsx("th",{className:"text-right p-4",children:"Subtotal"})]})}),r.jsx("tbody",{children:m.items.map(e=>(0,r.jsxs)("tr",{className:"border-t",children:[r.jsx("td",{className:"p-4",children:e.producto_nombre}),r.jsx("td",{className:"text-center p-4",children:e.cantidad}),(0,r.jsxs)("td",{className:"text-right p-4",children:["$",parseFloat(e.precio).toFixed(2)]}),(0,r.jsxs)("td",{className:"text-right p-4 font-medium",children:["$",(parseFloat(e.precio)*e.cantidad).toFixed(2)]})]},e.id))})]})})]}),(0,r.jsxs)("div",{className:"border-t pt-4",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[r.jsx("span",{className:"text-gray-600",children:"Subtotal:"}),(0,r.jsxs)("span",{className:"font-medium",children:["$",g.toFixed(2)]})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[r.jsx("span",{className:"text-gray-600",children:"M\xe9todo de pago:"}),r.jsx("span",{className:"font-medium",children:m.medio_pago_display||m.medio_pago})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center text-xl font-bold mt-4 pt-4 border-t",children:[r.jsx("span",{children:"Total:"}),(0,r.jsxs)("span",{className:"text-green-700",children:["$",parseFloat(m.total).toFixed(2)]})]})]})]})]})}},5047:(e,s,a)=>{"use strict";var r=a(7389);a.o(r,"useParams")&&a.d(s,{useParams:function(){return r.useParams}}),a.o(r,"useRouter")&&a.d(s,{useRouter:function(){return r.useRouter}}),a.o(r,"useSearchParams")&&a.d(s,{useSearchParams:function(){return r.useSearchParams}})},8844:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>r});let r=(0,a(8570).createProxy)(String.raw`C:\Users\dmazzucco\OneDrive - SA San Miguel A.G.I.C.I. y F\Escritorio\Daniel Mazuzzcco Personal\e-comerce\frontend\app\pedido\[id]\page.tsx#default`)}};var s=require("../../../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),r=s.X(0,[8948,2063,6744],()=>a(9917));module.exports=r})();