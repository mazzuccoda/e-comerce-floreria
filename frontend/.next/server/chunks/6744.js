exports.id=6744,exports.ids=[6744],exports.modules={3043:(e,r,t)=>{Promise.resolve().then(t.bind(t,1211)),Promise.resolve().then(t.bind(t,3274)),Promise.resolve().then(t.bind(t,732)),Promise.resolve().then(t.bind(t,8204)),Promise.resolve().then(t.bind(t,381))},2146:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,2994,23)),Promise.resolve().then(t.t.bind(t,6114,23)),Promise.resolve().then(t.t.bind(t,9727,23)),Promise.resolve().then(t.t.bind(t,9671,23)),Promise.resolve().then(t.t.bind(t,1868,23)),Promise.resolve().then(t.t.bind(t,4759,23))},1211:(e,r,t)=>{"use strict";t.d(r,{default:()=>o});var a=t(326),s=t(434);let o=()=>a.jsx("footer",{className:"bg-gray-800 text-white mt-12",children:(0,a.jsxs)("div",{className:"container mx-auto px-6 py-8",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[a.jsx("div",{children:a.jsx("h3",{className:"text-lg font-bold mb-4",children:"Florer\xeda Cristina"})}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"text-lg font-bold mb-4",children:"Enlaces R\xe1pidos"}),(0,a.jsxs)("ul",{children:[a.jsx("li",{children:a.jsx(s.default,{href:"/",className:"text-gray-400 hover:text-white transition-colors",children:"Inicio"})}),a.jsx("li",{children:a.jsx(s.default,{href:"/catalogo",className:"text-gray-400 hover:text-white transition-colors",children:"Cat\xe1logo"})}),a.jsx("li",{children:a.jsx(s.default,{href:"/contacto",className:"text-gray-400 hover:text-white transition-colors",children:"Contacto"})})]})]}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"text-lg font-bold mb-4",children:"Contacto"}),a.jsx("p",{className:"text-gray-400",children:"Direcci\xf3n: Solano Vera 480, Yerba Buena Tucum\xe1n"}),a.jsx("p",{className:"text-gray-400",children:"Email: eleososatuc@gmail.com"}),a.jsx("p",{className:"text-gray-400",children:"Tel: 3814778577"})]})]}),a.jsx("div",{className:"border-t border-gray-700 mt-8 pt-6 text-center",children:(0,a.jsxs)("p",{className:"text-gray-500",children:["\xa9 ",new Date().getFullYear()," Florer\xeda Cristina. Todos los derechos reservados."]})})]})})},3274:(e,r,t)=>{"use strict";t.d(r,{default:()=>d});var a=t(326),s=t(434),o=t(8204),i=t(732),n=t(7577),l=t(836),c=t.n(l);function d(){let{cart:e}=(0,o.u)(),{user:r,logout:t,isAuthenticated:l}=(0,i.a)(),[d,u]=(0,n.useState)(!1),[m,h]=(0,n.useState)(!1),[g,p]=(0,n.useState)(!1),[f,x]=(0,n.useState)(!1),[y,v]=(0,n.useState)([]),[b,_]=(0,n.useState)([]);return a.jsx("nav",{className:"navbar",children:(0,a.jsxs)("div",{className:"navbar-container",children:[a.jsx(s.default,{href:"/",className:"navbar-logo",children:a.jsx("img",{src:"https://res.cloudinary.com/dmxc6odsi/image/upload/v1760465112/Logo_Crsitina_t6ofnz.png",alt:"Florer\xeda Cristina",className:"logo-image"})}),(0,a.jsxs)("ul",{className:"navbar-nav",children:[(0,a.jsxs)("li",{className:c().dropdown,children:[a.jsx("span",{className:c().dropdownButton,children:"Tipo de flor"}),a.jsx("div",{className:c().dropdownContent,children:y.length>0?y.map(e=>a.jsx(s.default,{href:`/productos?tipo_flor=${e.id}`,className:c().dropdownLink,children:e.nombre},e.id)):a.jsx("span",{className:c().dropdownLink,children:"Cargando..."})})]}),(0,a.jsxs)("li",{className:c().dropdown,children:[a.jsx("span",{className:c().dropdownButton,children:"Ocasiones"}),a.jsx("div",{className:c().dropdownContent,children:b.length>0?b.map(e=>a.jsx(s.default,{href:`/productos?ocasion=${e.id}`,className:c().dropdownLink,children:e.nombre},e.id)):a.jsx("span",{className:c().dropdownLink,children:"Cargando..."})})]}),a.jsx("li",{className:"navbar-item",children:a.jsx(s.default,{href:"/ayuda",className:"navbar-link",children:"Ayuda"})}),a.jsx("li",{className:"navbar-item",children:a.jsx(s.default,{href:"/contacto",className:"navbar-link",children:"Contacto"})})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",style:{position:"relative",zIndex:100},children:[d&&l&&r?(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("button",{onClick:()=>h(!m),className:"text-gray-700 hover:text-green-700 font-medium transition-colors flex items-center gap-2",children:["\uD83D\uDC64 ",r.first_name||r.username,a.jsx("span",{className:"text-xs",children:"‚ñº"})]}),m&&(0,a.jsxs)("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 border border-gray-200",style:{zIndex:9999},children:[a.jsx(s.default,{href:"/perfil",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>h(!1),children:"Mi Perfil"}),a.jsx(s.default,{href:"/mis-pedidos",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>h(!1),children:"Mis Pedidos"}),a.jsx("button",{onClick:()=>{t(),h(!1)},className:"block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-gray-100",children:"Cerrar Sesi\xf3n"})]})]}):a.jsx(s.default,{href:"/login",className:"text-gray-700 hover:text-green-700 font-medium transition-colors",children:"\uD83D\uDC64 Iniciar sesi\xf3n"}),(0,a.jsxs)(s.default,{href:"/carrito",className:"cart-button",suppressHydrationWarning:!0,children:["\uD83D\uDED2 Carrito ",a.jsx("span",{className:"cart-count",suppressHydrationWarning:!0,children:d&&e?.items?.length||0})]})]})]})})}},732:(e,r,t)=>{"use strict";t.d(r,{AuthProvider:()=>l,a:()=>n});var a=t(326),s=t(7577),o=t(381);let i=(0,s.createContext)(void 0),n=()=>{let e=(0,s.useContext)(i);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e},l=({children:e})=>{let[r,t]=(0,s.useState)(null),[n,l]=(0,s.useState)(null),[c,d]=(0,s.useState)(!0),u=()=>"http://web:8000/api",m=async(e,r={})=>{let t=u(),a=await fetch(`${t}${e}`,{credentials:"include",mode:"cors",headers:{"Content-Type":"application/json",Accept:"application/json",...n&&{Authorization:`Token ${n}`},...r.headers},...r});if(!a.ok)throw Error((await a.json().catch(()=>({}))).error||`HTTP error! status: ${a.status}`);return a.json()};(0,s.useEffect)(()=>{let e=localStorage.getItem("auth_token"),r=localStorage.getItem("auth_user");e&&r&&(l(e),t(JSON.parse(r))),d(!1)},[]);let h=async(e,r)=>{try{d(!0);let a=await m("/usuarios/simple/login/",{method:"POST",body:JSON.stringify({username:e,password:r})});return t(a.user),l(a.token),localStorage.setItem("auth_token",a.token),localStorage.setItem("auth_user",JSON.stringify(a.user)),o.Am.success(`\xa1Bienvenido, ${a.user.first_name||a.user.username}!`),!0}catch(r){let e=r instanceof Error?r.message:"Error desconocido";return o.Am.error(`Error al iniciar sesi\xf3n: ${e}`),!1}finally{d(!1)}},g=async e=>{try{d(!0);let r=await m("/usuarios/simple/registro/",{method:"POST",body:JSON.stringify(e)});return t(r.user),l(r.token),localStorage.setItem("auth_token",r.token),localStorage.setItem("auth_user",JSON.stringify(r.user)),o.Am.success(`\xa1Cuenta creada exitosamente! Bienvenido, ${r.user.first_name||r.user.username}!`),!0}catch(r){let e=r instanceof Error?r.message:"Error desconocido";return o.Am.error(`Error al registrarse: ${e}`),!1}finally{d(!1)}},p=async()=>{try{n&&await m("/usuarios/simple/logout/",{method:"POST"})}catch(e){console.error("Error al hacer logout:",e)}finally{t(null),l(null),localStorage.removeItem("auth_token"),localStorage.removeItem("auth_user"),o.Am.success("Sesi\xf3n cerrada exitosamente")}},f=async e=>{try{d(!0);let r=await m("/usuarios/simple/perfil/",{method:"PUT",body:JSON.stringify(e)});return t(r.user),localStorage.setItem("auth_user",JSON.stringify(r.user)),o.Am.success("Perfil actualizado exitosamente"),!0}catch(r){let e=r instanceof Error?r.message:"Error desconocido";return o.Am.error(`Error al actualizar perfil: ${e}`),!1}finally{d(!1)}};return a.jsx(i.Provider,{value:{user:r,token:n,loading:c,login:h,register:g,logout:p,updateProfile:f,isAuthenticated:!!r&&!!n},children:e})}},8204:(e,r,t)=>{"use strict";t.d(r,{CartProviderRobust:()=>c,u:()=>d});var a=t(326),s=t(7577),o=t(381);let i={baseUrl:process.env.NEXT_PUBLIC_API_URL||"https://e-comerce-floreria-production.up.railway.app/api",timeout:1e4,retryAttempts:3,retryDelay:1e3};class n{static getInstance(){return n.instance||(n.instance=new n),n.instance}async delay(e){return new Promise(r=>setTimeout(r,e))}generateRequestKey(e,r){return`${e}-${JSON.stringify(r)}`}async request(e,r={}){let t=e;if(t.startsWith("http://")||t.startsWith("https://"));else if(t.startsWith("/api/"))t=`${i.baseUrl}${t.replace("/api","")}`;else{let e=t.replace(/^\/+/,"");t=`${i.baseUrl}/${e}`}let a=t,s=this.generateRequestKey(a,r);if(this.requestQueue.has(s))return console.log(`üîÑ Reusing existing request for ${e}`),this.requestQueue.get(s);let o=this.executeRequest(a,r);this.requestQueue.set(s,o);try{return await o}finally{this.requestQueue.delete(s)}}async executeRequest(e,r){let t;for(let a=1;a<=i.retryAttempts;a++){let s=new AbortController,o=setTimeout(()=>{console.log(`‚è∞ Request timeout after ${i.timeout}ms`),s.abort()},i.timeout);try{console.log(`üåê API Request (attempt ${a}): ${e}`);let t=(r.method||"GET").toUpperCase(),i={Accept:"application/json"};"GET"===t||r.headers&&"Content-Type"in r.headers||(i["Content-Type"]="application/json");let n={...r,method:t,signal:s.signal,credentials:"include",headers:{...i,...r.headers||{}}},l=await fetch(e,n);if(clearTimeout(o),console.log(`üì° Response received: ${l.status} ${l.statusText}`),!l.ok){let e=`HTTP error! status: ${l.status}`,r=l.clone();try{let r=await l.json();r&&"object"==typeof r&&(e=r.message||r.error||JSON.stringify(r))}catch(t){try{let t=await r.text();t&&(e=t)}catch{}}let t=Error(e);throw t.status=l.status,t}try{let r=await l.json();return console.log(`‚úÖ API Success: ${e}`,r),r}catch(e){throw console.error("‚ùå Error parsing JSON response:",e),Error("Invalid JSON response from server")}}catch(r){if(t=r,console.error(`‚ùå API Error (attempt ${a}): ${e}`,r.message),("AbortError"===r.name||r.message.includes("fetch"))&&console.log(`üîÑ Network/timeout error, will retry...`),a<i.retryAttempts){let e=i.retryDelay*a;console.log(`‚è≥ Retrying in ${e}ms...`),await this.delay(e)}}}throw t||Error("All retry attempts failed")}constructor(){this.requestQueue=new Map}}let l=(0,s.createContext)(void 0),c=({children:e})=>{let r=()=>({items:[],total_price:0,total_items:0,is_empty:!0}),[t,i]=(0,s.useState)(()=>r()),[c,d]=(0,s.useState)(!1),[u,m]=(0,s.useState)(null),h=(0,s.useRef)(n.getInstance()),g=(0,s.useRef)(!0);(0,s.useRef)(0);let p=(0,s.useRef)(!1),f=(0,s.useCallback)(e=>{g.current&&(console.log("\uD83D\uDD04 Updating cart state:",e),i(e),m(null))},[]),x=(0,s.useCallback)(e=>{g.current&&d(e)},[]),y=(0,s.useCallback)(e=>{g.current&&m(e)},[]),v=(0,s.useCallback)(async()=>{if(p.current){console.log("\uD83D\uDD04 RefreshCart already in progress, skipping...");return}p.current=!0;try{x(!0),y(null),console.log("\uD83D\uDD04 Starting robust cart refresh...");let e=Date.now(),r=await h.current.request(`/carrito/simple/?t=${e}`,{method:"GET"});if(r&&"object"==typeof r){let e={items:Array.isArray(r.items)?r.items:[],total_price:parseFloat(r.total_price)||0,total_items:parseInt(r.total_items)||0,is_empty:!!r.is_empty};f(e),console.log("‚úÖ Cart refreshed successfully:",e)}else throw Error("Invalid data structure received from server")}catch(e){console.error("‚ùå Cart refresh failed:",e),y(`Connection failed: ${e.message}`),f({items:[],total_price:0,total_items:0,is_empty:!0})}finally{x(!1),p.current=!1}},[f,x,y]),b=(0,s.useCallback)(async()=>{console.log("\uD83D\uDD04 Retrying connection..."),await v()},[v]),_=(0,s.useCallback)(async(e,r=1)=>{try{x(!0),console.log("\uD83D\uDED2 Adding to cart:",{product:e.nombre,quantity:r});let t=await h.current.request("/carrito/simple/add/",{method:"POST",body:JSON.stringify({product_id:e.id,quantity:r})});t?.cart?(f(t.cart),o.ZP.success(`${e.nombre} agregado al carrito`)):await v()}catch(e){console.error("‚ùå Add to cart failed:",e),o.ZP.error(e.message||"Error al agregar producto"),y(e.message)}finally{x(!1)}},[v,f,x,y]),C=(0,s.useCallback)(async e=>{try{x(!0),console.log("\uD83D\uDDD1Ô∏è Removing from cart:",e),await h.current.request("/carrito/remove/",{method:"DELETE",body:JSON.stringify({product_id:e})}),await v(),o.ZP.success("Producto eliminado del carrito")}catch(e){console.error("‚ùå Remove from cart failed:",e),o.ZP.error(e.message||"Error al eliminar producto"),y(e.message)}finally{x(!1)}},[v,x,y]),N=(0,s.useCallback)(async(e,r)=>{try{x(!0),console.log("\uD83D\uDCDD Updating quantity:",{productId:e,newQuantity:r}),await h.current.request("/carrito/update/",{method:"PUT",body:JSON.stringify({product_id:e,quantity:r})}),await v(),o.ZP.success("Cantidad actualizada")}catch(e){console.error("‚ùå Update quantity failed:",e),o.ZP.error(e.message||"Error al actualizar cantidad"),y(e.message)}finally{x(!1)}},[v,x,y]),w=(0,s.useCallback)(async()=>{try{x(!0),console.log("\uD83E\uDDF9 Clearing cart..."),await h.current.request("/carrito/clear/",{method:"DELETE"}),f({items:[],total_price:0,total_items:0,is_empty:!0}),o.ZP.success("Carrito limpiado")}catch(e){console.error("‚ùå Clear cart failed:",e),o.ZP.error(e.message||"Error al limpiar carrito"),y(e.message)}finally{x(!1)}},[f,x,y]);return(0,s.useEffect)(()=>(console.log("\uD83D\uDE80 CartProviderRobust mounted, starting initial load..."),v(),()=>{g.current=!1}),[]),a.jsx(l.Provider,{value:{cart:t,loading:c,error:u,addToCart:_,removeFromCart:C,updateQuantity:N,clearCart:w,refreshCart:v,retryConnection:b},children:e})},d=()=>{let e=(0,s.useContext)(l);if(void 0===e)throw Error("useCartRobust must be used within a CartProviderRobust");return e}},836:e=>{e.exports={navbar:"Navbar_navbar__XlgWY",container:"Navbar_container__x_wnu",logo:"Navbar_logo__ycYQk","gentle-float":"Navbar_gentle-float__k6s7e",navLinks:"Navbar_navLinks__5FCHq",navLink:"Navbar_navLink__NoUWm",navActions:"Navbar_navActions__vfR_h",cartButton:"Navbar_cartButton__2iiro",dropdown:"Navbar_dropdown__T0S7H",dropdownButton:"Navbar_dropdownButton__4NTeA",dropdownContent:"Navbar_dropdownContent__AGk_Y",dropdownLink:"Navbar_dropdownLink__Gt_Ln",admin:"Navbar_admin__H7ZrY",authSection:"Navbar_authSection__qRTQm",authButton:"Navbar_authButton__CLZO6",loginButton:"Navbar_loginButton__FT71R",registerButton:"Navbar_registerButton__085Ig",cartSection:"Navbar_cartSection__mn6bp",cartLink:"Navbar_cartLink__s44sJ",navbarContainer:"Navbar_navbarContainer__PU731",scrolled:"Navbar_scrolled__r46p9",pulse:"Navbar_pulse__a_VlE"}},9293:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>g,metadata:()=>m,viewport:()=>h});var a=t(9510),s=t(7366),o=t.n(s);t(7272);var i=t(9125),n=t(8570);(0,n.createProxy)(String.raw`C:\Users\dmazzucco\OneDrive - SA San Miguel A.G.I.C.I. y F\Escritorio\Daniel Mazuzzcco Personal\e-comerce\frontend\context\AuthContext.tsx#useAuth`);let l=(0,n.createProxy)(String.raw`C:\Users\dmazzucco\OneDrive - SA San Miguel A.G.I.C.I. y F\Escritorio\Daniel Mazuzzcco Personal\e-comerce\frontend\context\AuthContext.tsx#AuthProvider`),c=(0,n.createProxy)(String.raw`C:\Users\dmazzucco\OneDrive - SA San Miguel A.G.I.C.I. y F\Escritorio\Daniel Mazuzzcco Personal\e-comerce\frontend\context\CartContextRobust.tsx#CartProviderRobust`);(0,n.createProxy)(String.raw`C:\Users\dmazzucco\OneDrive - SA San Miguel A.G.I.C.I. y F\Escritorio\Daniel Mazuzzcco Personal\e-comerce\frontend\context\CartContextRobust.tsx#useCartRobust`),(0,n.createProxy)(String.raw`C:\Users\dmazzucco\OneDrive - SA San Miguel A.G.I.C.I. y F\Escritorio\Daniel Mazuzzcco Personal\e-comerce\frontend\context\CartContextRobust.tsx#default`);let d=(0,n.createProxy)(String.raw`C:\Users\dmazzucco\OneDrive - SA San Miguel A.G.I.C.I. y F\Escritorio\Daniel Mazuzzcco Personal\e-comerce\frontend\app\components\Navbar.tsx#default`),u=(0,n.createProxy)(String.raw`C:\Users\dmazzucco\OneDrive - SA San Miguel A.G.I.C.I. y F\Escritorio\Daniel Mazuzzcco Personal\e-comerce\frontend\app\components\Footer.tsx#default`),m={title:"Florer\xeda Cristina - Ramos de flores a domicilio",description:"Florer\xeda y vivero especializado en ramos de flores frescas, plantas y arreglos florales. Entrega a domicilio en toda la ciudad. Calidad garantizada.",keywords:"florer\xeda, flores, ramos, plantas, vivero, entrega domicilio, arreglos florales, flores frescas, bouquet, decoraci\xf3n floral",authors:[{name:"Florer\xeda Cristina"}],creator:"Florer\xeda Cristina",publisher:"Florer\xeda Cristina",robots:"index, follow",openGraph:{title:"Florer\xeda Cristina - Ramos de flores a domicilio",description:"Florer\xeda y vivero especializado en ramos de flores frescas, plantas y arreglos florales. Entrega a domicilio en toda la ciudad.",url:"https://floreria-cristina.com",siteName:"Florer\xeda Cristina",images:[{url:"https://floreria-cristina.com/images/floreria-cristina-og.jpg",width:1200,height:630,alt:"Florer\xeda Cristina - Flores frescas a domicilio"}],locale:"es_AR",type:"website"},twitter:{card:"summary_large_image",title:"Florer\xeda Cristina - Ramos de flores a domicilio",description:"Florer\xeda y vivero especializado en ramos de flores frescas, plantas y arreglos florales.",images:["https://floreria-cristina.com/images/floreria-cristina-og.jpg"],creator:"@floreria_cristina"},manifest:"/manifest.json",icons:{icon:"/favicon.svg",apple:"/favicon.svg"}},h={width:"device-width",initialScale:1,themeColor:"#e91e63"};function g({children:e}){return a.jsx("html",{lang:"es",children:a.jsx("body",{className:`${o().className} bg-gray-50`,children:a.jsx(l,{children:a.jsx(c,{children:(0,a.jsxs)("div",{className:"flex flex-col min-h-screen",children:[a.jsx(d,{}),a.jsx(i.x7,{}),a.jsx("main",{className:"flex-grow container mx-auto px-4 py-8",children:e}),a.jsx(u,{})]})})})})})}},7272:()=>{}};